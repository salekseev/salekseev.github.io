<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta property="og:title" content="PXE boot with DHCP-Proxy using DNSMASQ - ~salekseev"></meta>
 		
		<meta property="og:description" content="" />
		
		<meta property="og:type" content="article"></meta>
		<meta property="og:url" content="https://salekseev.com/posts/2014-02-27-pxe-boot-with-dhcp-proxy-using-dnsmasq/"></meta>
		<meta property="og:image" content="https://docs.gitea.io/images/gitea.png"></meta>
		<meta name="generator" content="Hugo 0.43" />

		<title>PXE boot with DHCP-Proxy using DNSMASQ - ~salekseev</title>

		
		

		

		<link rel="canonical" href="https://salekseev.com/posts/2014-02-27-pxe-boot-with-dhcp-proxy-using-dnsmasq/">

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" />
		<link rel="stylesheet" href="https://salekseev.com/styles/main.css">

		<link rel="shortcut icon" type="image/x-icon" href="https://salekseev.com/images/favicon.png">
		<link rel="icon" type="image/x-icon" href="https://salekseev.com/images/favicon.png">
	</head>
	<body>

<nav class="navbar">
	<div class="container">
		<div class="navbar-brand">
			<a class="navbar-item" href="https://salekseev.com/">
				<img src="https://salekseev.com/images/gitea.png" alt="~salekseev">
			</a>
			<span class="navbar-burger burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
              <span></span>
              <span></span>
              <span></span>
            </span>
		</div>
		<div class="navbar-menu" id="navMenu">
			<div class="navbar-end">
				<span class="navbar-item logo"><img src="https://salekseev.com/images/gitea.png" alt="~salekseev"></span>


			</div>
		</div>
		<div class="navbar-background" id="navbar-background"></div>
	</div>
</nav>

<section class="section">
	<div class="container is-centered page">
		<div class=" content">
			<p>The other day I was setting up a cobbler boot server in a network where I
have no control over DHCP server. DHCP-Proxy to the rescue!</p>

<p>I believe the minimum version of DNSMASQ required to function properly
is at least 2.51 as it did not work with out of the box CentOS6 supplied
version 2.48, I ended up using dnsmasq-2.65-5.el6.x86_64.rpm built by
Mirantis.</p>

<p>Here&rsquo;s my working /etc/cobbler/dnsmasq.template file:</p>
<div class="highlight"><pre style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4"># Cobbler generated configuration file for dnsmasq
# $date
#

no-poll
enable-dbus
# Disables DNS functionality
port=0
log-dhcp
read-ethers

dhcp-range=172.24.220.0,proxy
dhcp-boot=pxelinux.0
dhcp-ignore=tag:!known
pxe-service=x86PC, &#34;Boot PXELinux (=Cobbler controlled)&#34;, pxelinux, $next_server

$insert_cobbler_system_definitions</pre></div>

			
	<div id="disqus_thread"></div>

	<script type="text/javascript">
		var disqus_shortname = 'salekseev-com';
		var disqus_identifier = 'https:\/\/salekseev.com\/posts\/2014-02-27-pxe-boot-with-dhcp-proxy-using-dnsmasq\/';
		var disqus_title = 'PXE boot with DHCP-Proxy using DNSMASQ';
		var disqus_url = 'https:\/\/salekseev.com\/posts\/2014-02-27-pxe-boot-with-dhcp-proxy-using-dnsmasq\/';

		(function() {
			var dsq = document.createElement('script');

			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';

			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>

	<noscript>
		Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
	</noscript>


		</div>
	</div>
</section>

		<footer class="footer">
			<div class="container">
				<div class="content has-text-centered">
					<p>
						Copyright &copy; 2018 <a href="">Stas Alekseev</a>. All rights reserved. Made with <i class="fa fa-heart" aria-hidden="true"></i> and <a href="https://gohugo.io">Hugo</a>. Sponsored by <a href="http://inblockchain.com">INBlockchain</a>.
					</p>
					<p>
						
						<a class="nav-link" href="https://salekseev.com/en"></a>
						
					</p>
				</div>
			</div>
		</footer>

		<script>
            document.addEventListener('DOMContentLoaded', function () {

                
                var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

                
                if ($navbarBurgers.length > 0) {

                    
                    $navbarBurgers.forEach(function ($el) {
                        $el.addEventListener('click', function () {

                            
                            var target = $el.dataset.target;
                            var $target = document.getElementById(target);

                            
                            $el.classList.toggle('is-active');
                            $target.classList.toggle('is-active');


                            document.getElementById('navbar-background').classList.toggle('is-active');


                        });
                    });
                }

            });
		</script>

		</body>
</html>

